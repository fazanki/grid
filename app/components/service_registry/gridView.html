<h1>Grid</h1>

<form name='editContact' novalidate class=''>
  <fieldset>

    <p><input type='search' class='form-control' ng-model='query' placeholder='Search' /> </p>

    <table class='table table-hover table-bordered'>
      <thead>
        <tr>
          <th ng-repeat='field in fields' ng-click='sort(field)'>
              {{ field | labelCase }}
              <span ng-show='sort.field === field && !sort.order' class='glyphicon glyphicon-chevron-down'></span>
              <span ng-show='sort.field === field && sort.order' class='glyphicon glyphicon-chevron-up'></span>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr ng-click='show(contact.id)'  ng-focus='focused(service)'
        ng-blur='blured()' dir-paginate='service in services | filter:query | orderBy: sort.field : sort.order | itemsPerPage: 10'>

        <td ng-repeat='field in fields' >

          <div ng-if='field != "listItems" '>
            {{ service[field] }}
          </div>

          <div ng-if='field == "listItems" '>

            <ui-select ng-model='service[field]' theme='bootstrap' reset-search-input='false'>
              <ui-select-match placeholder='select'>
                  {{$select.selected.v}}
              </ui-select-match>

              <ui-select-choices repeat='(k,v) in service[field] | filter: $select.search'>
                  {{ v }}
              </ui-select-choices>
            </ui-select>


             <ui-select ng-model="selectedBlah" theme="bootstrap">
                <ui-select-match placeholder="Choose a blah...">{{$select.selected}}</ui-select-match>
                <ui-select-choices repeat="(key,value) in service[field] | filter: $select.search">
                    <div ng-bind-html="key"></div>
                </ui-select-choices>
            </ui-select>

          </div>

            <span class="glyphicon glyphicon-pencil" fieldname="{{ service[field] }}" popover savename='save' style="float:right"></span>
        </td>

        </tr>
      </tbody>

    </table>

    <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="shared/pagination/dirPagination.tpl.html"></dir-pagination-controls>

    <div class="form-group right">
      <div class="form-group-left">
        <button type="reset" class="btn btn-default btn-disabled">Add</button>
        <button type="submit" class="btn btn-primary btn-disabled" ng-disabled="isDisabled">Edit</button>
      </div>
    </div>
  </fieldset>
  {{sort.order}}
</form>



